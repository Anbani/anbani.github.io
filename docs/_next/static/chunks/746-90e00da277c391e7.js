"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[746],{3746:function(e,t,n){n.d(t,{v:function(){return E}});var r,u,o,a,i=n(9642),c=n(7294),s=n(133),l=n(8529),f=n(7471),d=n(2659),p=n(9016),m=n(852),v=n(2506),I=n(5057),b=n(4198),g=n(3980),R=n(6637),y=n(9472);function x(){var e=(0,c.useState)(y.k)[0];return(0,c.useEffect)((function(){return function(){return e.dispose()}}),[e]),e}function S(e,t){var n=t.resolveItems();if(n.length<=0)return null;var u=t.resolveActiveIndex(),o=null!=u?u:-1,a=function(){switch(e.focus){case r.First:return n.findIndex((function(e){return!t.resolveDisabled(e)}));case r.Previous:var u=n.slice().reverse().findIndex((function(e,n,r){return!(-1!==o&&r.length-n-1>=o)&&!t.resolveDisabled(e)}));return-1===u?u:n.length-1-u;case r.Next:return n.findIndex((function(e,n){return!(n<=o)&&!t.resolveDisabled(e)}));case r.Last:var a=n.slice().reverse().findIndex((function(e){return!t.resolveDisabled(e)}));return-1===a?a:n.length-1-a;case r.Specific:return n.findIndex((function(n){return t.resolveId(n)===e.id}));case r.Nothing:return null;default:!function(e){throw new Error("Unexpected object: "+e)}(e)}}();return-1===a?u:a}!function(e){e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing"}(r||(r={})),function(e){e[e.Open=0]="Open",e[e.Closed=1]="Closed"}(o||(o={})),function(e){e[e.OpenMenu=0]="OpenMenu",e[e.CloseMenu=1]="CloseMenu",e[e.GoToItem=2]="GoToItem",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterItem=5]="RegisterItem",e[e.UnregisterItem=6]="UnregisterItem"}(a||(a={}));var h=((u={})[a.CloseMenu]=function(e){return e.menuState===o.Closed?e:(0,i.gY)({},e,{activeItemIndex:null,menuState:o.Closed})},u[a.OpenMenu]=function(e){return e.menuState===o.Open?e:(0,i.gY)({},e,{menuState:o.Open})},u[a.GoToItem]=function(e,t){var n=S(t,{resolveItems:function(){return e.items},resolveActiveIndex:function(){return e.activeItemIndex},resolveId:function(e){return e.id},resolveDisabled:function(e){return e.dataRef.current.disabled}});return""===e.searchQuery&&e.activeItemIndex===n?e:(0,i.gY)({},e,{searchQuery:"",activeItemIndex:n})},u[a.Search]=function(e,t){var n=e.searchQuery+t.value.toLowerCase(),r=e.items.findIndex((function(e){var t;return(null==(t=e.dataRef.current.textValue)?void 0:t.startsWith(n))&&!e.dataRef.current.disabled}));return-1===r||r===e.activeItemIndex?(0,i.gY)({},e,{searchQuery:n}):(0,i.gY)({},e,{searchQuery:n,activeItemIndex:r})},u[a.ClearSearch]=function(e){return""===e.searchQuery?e:(0,i.gY)({},e,{searchQuery:""})},u[a.RegisterItem]=function(e,t){return(0,i.gY)({},e,{items:[].concat(e.items,[{id:t.id,dataRef:t.dataRef}])})},u[a.UnregisterItem]=function(e,t){var n=e.items.slice(),r=null!==e.activeItemIndex?n[e.activeItemIndex]:null,u=n.findIndex((function(e){return e.id===t.id}));return-1!==u&&n.splice(u,1),(0,i.gY)({},e,{items:n,activeItemIndex:u===e.activeItemIndex||null===r?null:n.indexOf(r)})},u),C=(0,c.createContext)(null);function k(e){var t=(0,c.useContext)(C);if(null===t){var n=new Error("<"+e+" /> is missing a parent <"+E.name+" /> component.");throw Error.captureStackTrace&&Error.captureStackTrace(n,k),n}return t}function M(e,t){return(0,s.E)(t.type,h,e,t)}C.displayName="MenuContext";var T=c.Fragment;function E(e){var t,n=(0,c.useReducer)(M,{menuState:o.Closed,buttonRef:(0,c.createRef)(),itemsRef:(0,c.createRef)(),items:[],searchQuery:"",activeItemIndex:null}),r=n[0],u=r.menuState,i=r.itemsRef,f=r.buttonRef,d=n[1];(0,b.s)("mousedown",(function(e){var t,n,r,c=e.target;u===o.Open&&((null==(t=f.current)?void 0:t.contains(c))||(null==(n=i.current)?void 0:n.contains(c))||(d({type:a.CloseMenu}),(0,I.sP)(c,I.tJ.Loose)||(e.preventDefault(),null==(r=f.current)||r.focus())))}));var p=(0,c.useMemo)((function(){return{open:u===o.Open}}),[u]);return c.createElement(C.Provider,{value:n},c.createElement(g.up,{value:(0,s.E)(u,(t={},t[o.Open]=g.ZM.Open,t[o.Closed]=g.ZM.Closed,t))},(0,l.sY)({props:e,slot:p,defaultTag:T,name:"Menu"})))}var w=(0,l.yV)((function e(t,n){var u,s=k([E.name,e.name].join(".")),m=s[0],I=s[1],b=(0,f.T)(m.buttonRef,n),g="headlessui-menu-button-"+(0,v.M)(),y=x(),S=(0,c.useCallback)((function(e){switch(e.key){case d.R.Space:case d.R.Enter:case d.R.ArrowDown:e.preventDefault(),e.stopPropagation(),I({type:a.OpenMenu}),y.nextFrame((function(){return I({type:a.GoToItem,focus:r.First})}));break;case d.R.ArrowUp:e.preventDefault(),e.stopPropagation(),I({type:a.OpenMenu}),y.nextFrame((function(){return I({type:a.GoToItem,focus:r.Last})}))}}),[I,y]),h=(0,c.useCallback)((function(e){switch(e.key){case d.R.Space:e.preventDefault()}}),[]),C=(0,c.useCallback)((function(e){if((0,p.P)(e.currentTarget))return e.preventDefault();t.disabled||(m.menuState===o.Open?(I({type:a.CloseMenu}),y.nextFrame((function(){var e;return null==(e=m.buttonRef.current)?void 0:e.focus({preventScroll:!0})}))):(e.preventDefault(),e.stopPropagation(),I({type:a.OpenMenu})))}),[I,y,m,t.disabled]),M=(0,c.useMemo)((function(){return{open:m.menuState===o.Open}}),[m]),T=t,w={ref:b,id:g,type:(0,R.f)(t,m.buttonRef),"aria-haspopup":!0,"aria-controls":null==(u=m.itemsRef.current)?void 0:u.id,"aria-expanded":t.disabled?void 0:m.menuState===o.Open,onKeyDown:S,onKeyUp:h,onClick:C};return(0,l.sY)({props:(0,i.gY)({},T,w),slot:M,defaultTag:"button",name:"Menu.Button"})})),D=l.AN.RenderStrategy|l.AN.Static,O=(0,l.yV)((function e(t,n){var u,s,p=k([E.name,e.name].join(".")),I=p[0],b=p[1],R=(0,f.T)(I.itemsRef,n),S="headlessui-menu-items-"+(0,v.M)(),h=x(),C=(0,g.oJ)(),M=null!==C?C===g.ZM.Open:I.menuState===o.Open;(0,c.useEffect)((function(){var e=I.itemsRef.current;e&&I.menuState===o.Open&&e!==document.activeElement&&e.focus({preventScroll:!0})}),[I.menuState,I.itemsRef]),function(e){var t=e.container,n=e.accept,r=e.walk,u=e.enabled,o=void 0===u||u,a=(0,c.useRef)(n),i=(0,c.useRef)(r);(0,c.useEffect)((function(){a.current=n,i.current=r}),[n,r]),(0,m.e)((function(){if(t&&o)for(var e=a.current,n=i.current,r=Object.assign((function(t){return e(t)}),{acceptNode:e}),u=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,r,!1);u.nextNode();)n(u.currentNode)}),[t,o,a,i])}({container:I.itemsRef.current,enabled:I.menuState===o.Open,accept:function(e){return"menuitem"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk:function(e){e.setAttribute("role","none")}});var T=(0,c.useCallback)((function(e){switch(h.dispose(),e.key){case d.R.Space:if(""!==I.searchQuery)return e.preventDefault(),e.stopPropagation(),b({type:a.Search,value:e.key});case d.R.Enter:if(e.preventDefault(),e.stopPropagation(),b({type:a.CloseMenu}),null!==I.activeItemIndex){var t,n=I.items[I.activeItemIndex].id;null==(t=document.getElementById(n))||t.click()}(0,y.k)().nextFrame((function(){var e;return null==(e=I.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));break;case d.R.ArrowDown:return e.preventDefault(),e.stopPropagation(),b({type:a.GoToItem,focus:r.Next});case d.R.ArrowUp:return e.preventDefault(),e.stopPropagation(),b({type:a.GoToItem,focus:r.Previous});case d.R.Home:case d.R.PageUp:return e.preventDefault(),e.stopPropagation(),b({type:a.GoToItem,focus:r.First});case d.R.End:case d.R.PageDown:return e.preventDefault(),e.stopPropagation(),b({type:a.GoToItem,focus:r.Last});case d.R.Escape:e.preventDefault(),e.stopPropagation(),b({type:a.CloseMenu}),(0,y.k)().nextFrame((function(){var e;return null==(e=I.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));break;case d.R.Tab:e.preventDefault(),e.stopPropagation();break;default:1===e.key.length&&(b({type:a.Search,value:e.key}),h.setTimeout((function(){return b({type:a.ClearSearch})}),350))}}),[b,h,I]),w=(0,c.useCallback)((function(e){switch(e.key){case d.R.Space:e.preventDefault()}}),[]),O=(0,c.useMemo)((function(){return{open:I.menuState===o.Open}}),[I]),P={"aria-activedescendant":null===I.activeItemIndex||null==(u=I.items[I.activeItemIndex])?void 0:u.id,"aria-labelledby":null==(s=I.buttonRef.current)?void 0:s.id,id:S,onKeyDown:T,onKeyUp:w,role:"menu",tabIndex:0,ref:R},F=t;return(0,l.sY)({props:(0,i.gY)({},F,P),slot:O,defaultTag:"div",features:D,visible:M,name:"Menu.Items"})})),P=c.Fragment;E.Button=w,E.Items=O,E.Item=function e(t){var n=t.disabled,u=void 0!==n&&n,s=t.onClick,f=(0,i.gK)(t,["disabled","onClick"]),d=k([E.name,e.name].join(".")),p=d[0],I=d[1],b="headlessui-menu-item-"+(0,v.M)(),g=null!==p.activeItemIndex&&p.items[p.activeItemIndex].id===b;(0,m.e)((function(){if(p.menuState===o.Open&&g){var e=(0,y.k)();return e.nextFrame((function(){var e;return null==(e=document.getElementById(b))||null==e.scrollIntoView?void 0:e.scrollIntoView({block:"nearest"})})),e.dispose}}),[b,g,p.menuState]);var R=(0,c.useRef)({disabled:u});(0,m.e)((function(){R.current.disabled=u}),[R,u]),(0,m.e)((function(){var e,t;R.current.textValue=null==(e=document.getElementById(b))||null==(t=e.textContent)?void 0:t.toLowerCase()}),[R,b]),(0,m.e)((function(){return I({type:a.RegisterItem,id:b,dataRef:R}),function(){return I({type:a.UnregisterItem,id:b})}}),[R,b]);var x=(0,c.useCallback)((function(e){return u?e.preventDefault():(I({type:a.CloseMenu}),(0,y.k)().nextFrame((function(){var e;return null==(e=p.buttonRef.current)?void 0:e.focus({preventScroll:!0})})),s?s(e):void 0)}),[I,p.buttonRef,u,s]),S=(0,c.useCallback)((function(){if(u)return I({type:a.GoToItem,focus:r.Nothing});I({type:a.GoToItem,focus:r.Specific,id:b})}),[u,b,I]),h=(0,c.useCallback)((function(){u||g||I({type:a.GoToItem,focus:r.Specific,id:b})}),[u,g,b,I]),C=(0,c.useCallback)((function(){u||g&&I({type:a.GoToItem,focus:r.Nothing})}),[u,g,I]),M=(0,c.useMemo)((function(){return{active:g,disabled:u}}),[g,u]),T={id:b,role:"menuitem",tabIndex:!0===u?void 0:-1,"aria-disabled":!0===u||void 0,disabled:void 0,onClick:x,onFocus:S,onPointerMove:h,onMouseMove:h,onPointerLeave:C,onMouseLeave:C};return(0,l.sY)({props:(0,i.gY)({},f,T),slot:M,defaultTag:P,name:"Menu.Item"})}}}]);